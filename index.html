<!DOCTYPE html>
<html>

<head>
    <title>Why the fuck did I make this</title>
    <script>
        //DATA//

        window.onload = () => {
            var subjectInputs = document.getElementById("subject-inputs");

            for (var i = 0; i < SUBJECTS.length; i++) {
                var curSubjectName = SUBJECTS[i];
                var newInput = document.createElement("input");
                newInput.id = "subject-checkbox-" + curSubjectName;
                newInput.type = "checkbox";
                newInput.name = "titlecut_subjects";
                newInput.value = curSubjectName;
                newInput.onclick = () => toggleCheckboxGroupRequired("titlecut_subjects");
                newInput.required = true;
                subjectInputs.appendChild(newInput);

                var newLabel = document.createElement("label");
                newLabel.innerText = curSubjectName;
                newLabel.setAttribute("for", "subject-checkbox-" + curSubjectName);
                subjectInputs.appendChild(newLabel);

                subjectInputs.appendChild(document.createElement("br"));
            }
        };

        function toggleCheckboxGroupRequired(checkboxesName) {
            var checkboxes = document.getElementsByName(checkboxesName);

            var atLeastOneChecked = false;
            for (i = 0; i < checkboxes.length; i++) {
                if (checkboxes[i].checked === true) {
                    atLeastOneChecked = true;
                }
            }

            if (atLeastOneChecked === true) {
                for (i = 0; i < checkboxes.length; i++) {
                    checkboxes[i].required = false;
                }
            } else {
                for (i = 0; i < checkboxes.length; i++) {
                    checkboxes[i].required = true;
                }
            }
        }
    </script>
</head>

<body>
    <h1>Titlecut Generator</h1>
    <hr>
    <br>
    <form method="post">
        <h3>Select Image Sources</h3>
        <div id="subject-inputs">

        </div>
        <h3>Titlecut Text</h3>
        <textarea rows="10" cols="50" name="titlecut_text"></textarea>
        <br>
        <button role="submit">Generate</button>
    </form>
</body>

</html>